<!DOCTYPE html>
<html>
<head>
  <title>Food Recommender</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="container">
    <h1>USDA Food Recommender</h1>
    <form method="POST">
      <input type="number" name="user_id" placeholder="User ID" value="{{ user_id }}" required>
      <input type="text" name="query" placeholder="e.g., healthy under 700 calories" value="{{ query }}">
      <button>Get Recommendations</button>
    </form>

    {% if recs %}
    <h2>Top {{ recs|length }} for User {{ user_id }}</h2>
    <table>
      <tr><th>#</th><th>Food</th><th>Rating</th><th>Calories</th></tr>
      {% for fid, name, rating, cal in recs %}
      <tr>
        <td>{{ loop.index }}</td>
        <td>{{ name }} (ID: {{ fid }})</td>
        <td>{{ rating }}</td>
        <td>{% if cal %}{{ "%.0f" % cal }} kcal{% else %}â€”{% endif %}</td>
      </tr>
      {% endfor %}
    </table>
    {% endif %}
  </div>
</body>
</html>